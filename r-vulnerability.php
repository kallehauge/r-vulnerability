<?php
/**
 * @package R-Vulnerability
 */

/*
Plugin Name: R-Vulnerability
Plugin URI: https://rommel.dk/plugins
Description: A plugin containing a vulnerability check of active plugins.
Version: 1.0
Author: Rommel
Author URI: https://rommel.dk/
Text Domain: r-vulnerability
License: GPLv2
*/

// Autoload vendor dependencies and our plugins own classes (PSR-4).
$loader = require __DIR__ . '/vendor/autoload.php';

use Rommel\VulnerabilityWidget;
use Rommel\WpVulnDb\Client;

/**
 * Define constant containing the text-domain for this plugin.
 */
define('R_VULNERABILITY', 'r-vulnerability');

/**
 * Add a widget to the dashboard.
 */
add_action( 'wp_dashboard_setup', [ new VulnerabilityWidget( R_VULNERABILITY, new Client() ), 'init' ] );
